/**
 * Stylesheet: Sass Functions
 * ************************************************************
 *
 * You can do a lot of really cool things in Sass. Functions help you
 * make repeated actions a lot easier. They are really similar to mixins,
 * but instead of outputting lines of Sass, functions return a value.
 *
 *
 *     1 CSS-Tricks Functions
 *
 *         1.1 Black and White Opacity Functions
 *
 *     2 Layout
 *
 *         2.1 (z-index)
 *
 *     3 Numbers & Units
 *
 *         3.1 strip-unit()
 *         3.2 rem2px()
 *             rem2px-list()
 *         3.3 clamp()
 *         3.4 calc-percent()
 *         3.5 convert-angle()
 *
 *     4 Custom Functions
 *
 *
 * @link http://sass-lang.com/documentation/Sass/Script/Functions.html
 */


/**
 * 1 CSS-TRICKS FUNCTIONS
 *
 * A selection of mixins published in CSS-Tricks website
 *
 * @link http://css-tricks.com/snippets/sass/
 */

/**
 * 1.1 BLACK AND WHITE OPACITIY FUNCTIONS
 *
 * It's pretty common to need a bit of transparent black or white.
 *
 * Usage:
 *      black(0.5);
 *
 * @link http://css-tricks.com/snippets/sass/black-white-opacity-mixins/
 */
@function black($opacity) {
    @return rgba(0,0,0,$opacity);
}
@function white($opacity) {
    @return rgba(255,255,255,$opacity);
}


/**
 * 2 LAYOUT FUNCTIONS
 *
 */

// To use in conjuntion with /layout/_zindex.scss
@function z($list, $element) {
   $z-index: index($list, $element);
   @if $z-index {
      @return $z-index;
   }
   @warn 'There is no item "#{$element}" in this list; choose one of: #{$list}';
   @return null;
}


/**
 * 3 NUMBERS & UNITS
 *
 */

/*
 * 3.1 Strips the unit of measure and returns it
 * @link https://github.com/zurb/foundation/blob/master/scss/foundation/_functions.scss#L40
 */
@function strip-unit( $num ) {
	@return $num / ($num * 0 + 1);
 }

/**
 * 3.2 Convert rem to pixels
 *
 * @link http://davidwalsh.name/rem-px-browser-function-sass
 */
@function rem2px( $value ) {
	$unit : unit( $value );
	$val  : strip-unit( $value );

	@if ( $rem-with-px-fallback ) and ( $unit == 'rem' ) {
		$val: $val * $base-font-size;
	}
	@else if( $unit == 'px' ) or ( $unit == 'rem' ){
		$val: $value;
	}
	@else {
		@warn 'There is no unit conversion for #{$unit}';
	}
	@return $val;
}

@function rem2px-list( $values ) {

	$list: ();

	@each $value in $values {
		$list: append( $list, rem2px($value) );
	}

@return $list();
}


/**
 * 3.3 Restrict a number between min and max values
 */
@function clamp($value, $min, $max) {
	@return if($value > $max, $max, if($value < $min, $min, $value));
}

/**
 * 3.4 Calculate target / context
 *
 * Example:
 *     width: calc-percent(650px, 1000px);
 *
 * Compiles to:
 *     width: 65%;
 */
@function calc-percent($target, $container) {
	@return ($target / $container) * 100%;
  }

/**
 * 3.5 Converts angles into another unit.
 * You could probably do this for anything fixed (px, in, cm, mm)
 */
@function convert-angle($value, $unit) {
	$convertable-units: deg grad turn rad;
	$conversion-factors: 1 10grad/9deg 1turn/360deg 3.1415926rad/180deg;
	@if index($convertable-units, unit($value)) and index($convertable-units, $unit) {
		@return $value
			/ nth($conversion-factors, index($convertable-units, unit($value)))
			* nth($conversion-factors, index($convertable-units, $unit));
	} @else {
		@warn "Cannot convert #{unit($value)} to #{$unit}";
	}
}


/**
 * 4 CUSTOM FUNCTIONS
 */


